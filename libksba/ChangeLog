2014-11-25  Werner Koch  <wk@gnupg.org>

	Release 1.3.2.
	* configure.ac: Set LT version to C19/A11/R3.

	build: Update version number magic.
	* autogen.sh: Update from gnupg master.
	* configure.ac: Change for new init style.  Create VERSION.
	* Makefile.am (dist-hook): Do no create VERSION

	Fix buffer overflow in ksba_oid_to_str.
	* src/oid.c (ksba_oid_to_str): Fix unsigned underflow.

	* tests/Makefile.am (noinst_PROGRAMS): Move t-oid to ..
	(TESTS): here.
	* tests/t-oid.c (test_oid_to_str): New.
	(main): Run the new tests by default.  The former functionality
	requires the use of one of the new options.

2014-09-25  Werner Koch  <wk@gnupg.org>

	Strip CRs while building the oid translation table.
	* tests/Makefile.am (oidtranstbl.h): Strip CRs

2014-09-18  Werner Koch  <wk@gnupg.org>

	Release 1.3.1.
	* configure.ac: Set LT version to C19/A11/R2.

2014-07-22  Dmitry Eremin-Solenikov  <dbaryshkov@gmail.com>

	Fix two memory leaks in cert-basic test.
	* tests/cert-basic.c (one_file): always free public key and der2.

	Enable optional valgrind for testsuite.
	* configure.ac: Enable gnulib valgrind module.
	* gl/m4/gnulib.m4: Enable valgrind module.
	* tests/Makefile.am: Enable valgrind as LOG_COMPILER.
	* gl/m4/valgrind-tests.m4: New

	Fix memory leak in crl parsing code.
	* src/crl.c (store_one_entry_extension): Free memory at oid variable -
	  otherwise libksba leaks memory on crl parsing.

	Adapt mkoidtbl script to newer dumpasn1 database format.
	* tests/mkoidtbl.awk: optionally parse oid at OID line.

	Reuse common test functions in cert-basic test.
	* tests/cert-basic.c (xmalloc, print_hex, print_sexp, print_time,
	  print_dn): Drop.

	tests: fix print_sexp and print_sexp_hex functions.
	* tests/t-common.h (print_sexp, print_sexp_hex): advance pointer on
	  closing brace.

	tests: Pass -no-install to libtool.
	* tests/Makefile.am: add AM_LDFLAGS = -no-install

2014-04-15  Werner Koch  <wk@gnupg.org>

	tests: Fix warning about unused var.
	* tests/t-dnparser.c (main): Drop unneeded var INPUTLEN.

	Fix possible segv if NULL is passed as cert.
	* src/cert.c (ksba_cert_get_digest_algo): Fix !cert case.

2014-01-10  Werner Koch  <wk@gnupg.org>

	Remove cruft.
	* autogen.rc: Remove cruft.

	Use the generic autogen.sh script.
	* Makefile.am (EXTRA_DIST): Add autogen.rc.
	* autogen.rc: New.
	* autogen.sh: Update from current GnuPG.
	* ltmain.sh: Move to build-aux/.
	* compile: Ditto.
	* config.guess: Ditto.
	* config.sub: Ditto.
	* depcomp: Ditto.
	* doc/mdate-sh: Ditto.
	* doc/texinfo.tex: Ditto.
	* install-sh: Ditto.
	* missing: Ditto.
	* ylwrap: Ditto.
	* configure.ac (AC_CONFIG_AUX_DIR): New.

2014-01-08  Werner Koch  <wk@gnupg.org>

	Add --enable-silent-rules stuff.
	* configure.ac: Add AM_SILENT_RULES.

	Fix libtool 2.4.2 to correctly detect .def files.
	* ltmain.sh (sed_uncomment_deffile): New.
	(orig_export_symbols): Uncomment def file before testing for EXPORTS.
	* m4/libtool.m4: Do the same for the generated code.

2013-12-10  David 'Digit' Turner  <digit@google.com>

	Update libtool to support Android.
	* m4/libtool.m4: Add "linux*android*" case.  Taken from the libtool
	repository.

2013-12-10  Werner Koch  <wk@gnupg.org>

	Add build support for ppc64le.
	* config.guess, config.sub: Update to latest version (2013-11-29).
	* m4/libtool.m4: Add patches for ppc64le.

	Fix duplicate definition of TRUE and FALSE in grammar file.
	* src/asn1-parse.y (YYPRINT): Define.
	(%token-table): Define.
	(TRUE,FALSE,BOOLEAN): Prefix these tokens with "ksba_" to avoid name
	conflicts.
	(key_word, key_word_token): Remove arrays.
	(%token): Add literal strings to almost all tokens.
	(yylex): Use yytname array for keyword lookup.

2012-11-16  Werner Koch  <wk@gnupg.org>

	Improve parsing of the GIT revision number.
	* configure.ac (mmm4_revision): Use git rev-parse.

	Fix non-portable use of chmod in autogen.sh.
	* autogen.sh: Remove option -c from chmod.

2012-09-27  Werner Koch  <wk@gnupg.org>

	Release 1.3.0.
	* configure.ac: Set LT version to C19/A11/R1.

2012-09-26  Werner Koch  <wk@gnupg.org>

	Update build helper scripts.
	* config.guess, config.sub: Update to version 2012-07-31.
	* ltmain.sh: Update to version 2.4.2.
	* install-sh, m4/libtool.m4, m4/ltoptions.m4, m4/ltversion.m4
	* m4/lt~obsolete.m4: Update to autoconf 2.69 versions.

	Adjust for stricter autoconf requirements.
	* configure.ac: Fix usage of AC_LANG_PROGRAM.

	Do not distribute a copy of gitlog-to-changelog.
	* Makefile.am (AUTOMAKE_OPTIONS): Do not create a tar.gz.
	(gen-ChangeLog): Require an installed gitlog-to-changelog.
	* build-aux/gitlog-to-changelog: Remove.

	Allow building with w64-mingw32.
	* autogen.sh <--build-w32>: Support the w64-mingw32 toolchain.  Also
	prepare for 64 bit building.

	Switch to the new automagic beta numbering scheme.
	* configure.ac: Add all the required m4 magic.

	Change library license to LGPLv3+/GPLv2+.
	* COPYING.GPLv2, COPYING.GPLv3, COPYING.LGPLv3: New.
	* COPYING: Replace text by a reference to the new files.
	* AUTHORS: Update copyright, license, and maintainer information.
	* Makefile.am (EXTRA_DIST): Distribute the new files.

	Remove unused or useless files.
	* src/asn1-parse.h: Remove empty file.
	* src/asn1-parse.y: Do not include asn1-parse.h.

2011-12-06  Werner Koch  <wk@gnupg.org>

	Allow to set subject and issuer.
	* src/certreq.c (ksba_certreq_set_issuer): Do not check the subject.

2011-12-01  Werner Koch  <wk@gnupg.org>

	Post release updates.

	Generate the ChangeLog from commit logs.
	* build-aux/gitlog-to-changelog: New script.  Taken from gnulib.
	* build-aux/git-log-fix: New file.
	* build-aux/git-log-footer: New file.
	* doc/HACKING: New file.
	* ChangeLog: New file.
	* Makefile.am (EXTRA_DIST): Add new files.
	(gen-ChangeLog): New.
	(dist-hook): Run gen-ChangeLog.
	* autogen.sh: Install commit-msg hook for git.

	Rename all ChangeLog files to ChangeLog-2011.

2011-12-01  Werner Koch  <wk@gnupg.org>

	NB: Changes done before December 1st, 2011 are described in
	per directory files named ChangeLog-2011.  See doc/HACKING for
	details.

        -----
	Copyright (C) 2011 g10 Code GmbH

	Copying and distribution of this file and/or the original GIT
	commit log messages, with or without modification, are
	permitted provided the copyright notice and this notice are
	preserved.
